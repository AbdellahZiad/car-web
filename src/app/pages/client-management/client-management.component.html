<div class="row">
  <div class="col-6">
    <!--    <button nz-button nzType="primary" (click)="showModal(null)">Nouveau Client</button>-->
    <button *ngIf="newClient" (click)="showModal(null)" style="height: 100%;" nz-button [nzType]="'primary'">Nouveau
      Client
    </button>

  </div>
</div>
<br>
<br>

<div class="row">
  <!-- Search form -->
  <div class="col-10">
    <input [(ngModel)]="search" class="form-control" type="text" placeholder="Search" aria-label="Search">
  </div>
  <div class="col-2">
    <button (click)="searchData()" style="width: 100%;height: 100%;" nz-button [nzType]="'primary'">Search</button>
  </div>
</div>

<br>


<br>
<nz-table #basicTable [nzData]="clients">
  <thead>
  <tr>
    <th>Id</th>
    <th>Nom de Client</th>
    <!--    <th>CIN | Passport</th>-->
    <th>Numéro de Téléphone</th>
    <th>Date Debut</th>
    <th>Date Fin</th>
    <th>Nombre de jours</th>
    <th>Prix</th>
    <th >Action</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let data of basicTable.data">
    <td (click)="showModal(data)">{{ data.id }}</td>
    <td (click)="showModal(data)">{{ data.name }}</td>
    <!--    <td>{{ data.cin }}</td>-->
    <td (click)="showModal(data)">{{ data.tel }}</td>
    <td (click)="showModal(data)">{{ data.dateDebut | date: "dd-MM-yyyy HH:MM" }}</td>
    <td (click)="showModal(data)">{{ data.dateFin | date: "dd-MM-yyyy HH:MM"}}</td>
    <td (click)="showModal(data)">{{ data.numberDay  }}</td>
    <td (click)="showModal(data)">{{ data.total }}</td>
    <td>
      <button nz-button nzType="primary" (click)="showDetails(data.id)" [nzSize]="'small'"><i nz-icon nzType="eye"></i>
      </button>
      &nbsp;
      <button nz-button (click)="showModal(data)" nzType="sucess" [nzSize]="'small'"><i nz-icon nzType="edit"></i>
      </button>
      &nbsp;
      <button nz-button (click)="deleteUser(data.id)" nzType="danger" [nzSize]="'small'"><i nz-icon nzType="delete"></i>
      </button>
    </td>
  </tr>
  </tbody>
</nz-table>

<nz-modal [(nzVisible)]="isVisible" nzTitle="{{title}}" disabled="!validateForm.valid" (nzOnCancel)="handleCancel()"
          (nzOnOk)="handleOk()">

  <form nz-form [formGroup]="validateForm">

    <nz-tabset>
      <nz-tab nzTitle="Conducteur 1">
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="name">Nom de Client</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Veuillez Saisir Nom De Client !">
            <input nz-input formControlName="name" id="name"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="cin">CIN | Passport</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24">
            <input nz-input formControlName="cin" id="cin"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="tel">N° Telephone</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Veuillez Saisir N° Telephone ex : 212661...!">
            <input nz-input formControlName="tel" id="tel"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="dateDebut" nzRequired>Date Debut</nz-form-label>
          <nz-form-control [nzSm]="18" [nzXs]="24" nzErrorTip="Veuillez Saisir dateDebut!">
            <nz-date-picker style="width: 100%" formControlName="dateDebut"></nz-date-picker>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="dateFin" nzRequired>Date Fin</nz-form-label>
          <nz-form-control [nzSm]="18" [nzXs]="24" nzErrorTip="Veuillez Saisir dateFin!">
            <nz-date-picker style="width: 100%" formControlName="dateFin"></nz-date-picker>
          </nz-form-control>
        </nz-form-item>



        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="nat" nzRequired>Nationalité</nz-form-label>
          <nz-form-control [nzSm]="18" [nzXs]="24" nzErrorTip="Veuillez Saisir dateFin!">
            <input nz-input formControlName="nat" id="nat"/>
          </nz-form-control>
        </nz-form-item>


        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="nPermis" nzRequired>Permis de Conduire N°</nz-form-label>
          <nz-form-control [nzSm]="18" [nzXs]="24" nzErrorTip="Veuillez Saisir dateFin!">
            <input nz-input formControlName="nPermis" id="nPermis"/>
          </nz-form-control>
        </nz-form-item>


        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="adressMaroc" nzRequired>Addrese Maroc</nz-form-label>
          <nz-form-control [nzSm]="18" [nzXs]="24" nzErrorTip="Veuillez Saisir dateFin!">
            <input nz-input formControlName="adressMaroc" id="adressMaroc"/>
          </nz-form-control>
        </nz-form-item>


        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="adressEtranger" nzRequired>Addrese Etranger</nz-form-label>
          <nz-form-control [nzSm]="18" [nzXs]="24" nzErrorTip="Veuillez Saisir dateFin!">
            <input nz-input formControlName="adressEtranger" id="adressEtranger"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="dateFin" nzRequired>Add Conducteur</nz-form-label>
          <nz-form-control [nzSm]="18" [nzXs]="24" nzErrorTip="Veuillez Saisir dateFin!">
            <i (click)="addConducteur()" style=";cursor: pointer;margin-left: 4%; font-size: 164%;color: #007090;" nz-icon nzType="plus-circle" nzTheme="outline"></i>
          </nz-form-control>
        </nz-form-item>
      </nz-tab>

      <nz-tab  *ngIf="twoCond" nzTitle="Conducteur 2">
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="name1">Nom de Client</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Veuillez Saisir Nom De Client !">
            <input nz-input formControlName="name1" id="name1"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="cin1">CIN | Passport</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24">
            <input nz-input formControlName="cin1" id="cin1"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="tel1">N° Telephone</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Veuillez Saisir N° Telephone ex : 212661...!">
            <input nz-input formControlName="tel1" id="tel1"/>
          </nz-form-control>
        </nz-form-item>


        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="nat1" nzRequired>Nationalité</nz-form-label>
          <nz-form-control [nzSm]="18" [nzXs]="24" nzErrorTip="Veuillez Saisir dateFin!">
            <input nz-input formControlName="nat1" id="nat1"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="nPermis1" nzRequired>Permis de Conduire 2 N°</nz-form-label>
          <nz-form-control [nzSm]="18" [nzXs]="24" nzErrorTip="Veuillez Saisir dateFin!">
            <input nz-input formControlName="nPermis1" id="nPermis1"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="adressMaroc1" nzRequired>Adresse Maroc</nz-form-label>
          <nz-form-control [nzSm]="18" [nzXs]="24" nzErrorTip="Veuillez Saisir dateFin!">
            <input nz-input formControlName="adressMaroc1" id="adressMaroc1"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="adressEtranger2" nzRequired>Adresse Etranger</nz-form-label>
          <nz-form-control [nzSm]="18" [nzXs]="24" nzErrorTip="Veuillez Saisir dateFin!">
            <input nz-input formControlName="adressEtranger2" id="adressEtranger2"/>
          </nz-form-control>
        </nz-form-item>


      </nz-tab>

      <nz-tab nzTitle="Voiture">

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="numberDay">Nombre de jours</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Veuillez Saisir Des Nombres 0,1,2,...">
            <input nz-input formControlName="numberDay" id="numberDay"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="total">Prix</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Veuillez Saisir Des Nombres 0,1,2,...">
            <input nz-input formControlName="total" placeholder="Prix en DH, ex 250" id="total"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item *ngIf="addV">
          <nz-form-label  [nzSm]="6" [nzXs]="24" nzRequired nzFor="matricule">Voiture</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Veuillez Saisir N° Immatriculation de voiture">
            <input nz-input (keyup)="onKey($event)" placeholder="N° Immatriculation" formControlName="matricule"
                   id="matricule"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="livraison">Livraison</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Veuillez Saisir N° Immatriculation de voiture">
            <input nz-input (keyup)="onKey($event)" placeholder="N° Immatriculation" formControlName="livraison" id="livraison"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="recuperation">Recuperation</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Veuillez Saisir N° Immatriculation de voiture">
            <input nz-input (keyup)="onKey($event)" placeholder="N° Immatriculation" formControlName="recuperation" id="recuperation"/>
          </nz-form-control>
        </nz-form-item>



      </nz-tab>

<!--      <nz-tab nzTitle="Conducteur">-->

<!--        <nz-form-item>-->
<!--          <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="nameCdt">Nom & Prenom de Conducteur</nz-form-label>-->
<!--          <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Name Client is not valid E-mail!">-->
<!--            <input nz-input formControlName="nameCdt" id="nameCdt"/>-->
<!--          </nz-form-control>-->
<!--        </nz-form-item>-->

<!--        <nz-form-item>-->
<!--          <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="livraison">Livraison</nz-form-label>-->
<!--          <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Name Client is not valid E-mail!">-->
<!--            <input nz-input formControlName="livraison" id="livraison"/>-->
<!--          </nz-form-control>-->
<!--        </nz-form-item>-->

<!--        <nz-form-item>-->
<!--          <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="recuperation">Récuperation</nz-form-label>-->
<!--          <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Name Client is not valid E-mail!">-->
<!--            <input nz-input formControlName="recuperation" id="recuperation"/>-->
<!--          </nz-form-control>-->
<!--        </nz-form-item>-->

<!--      </nz-tab>-->


    </nz-tabset>


    <!--    <div class="row">-->
    <!--        &lt;!&ndash; Search form &ndash;&gt;-->
    <!--        <div class="col-10">-->
    <!--          <input [(ngModel)]="search" class="form-control" type="text" placeholder="Search" aria-label="Search">-->
    <!--        </div>-->
    <!--&lt;!&ndash;        <div class="col-2" >&ndash;&gt;-->
    <!--&lt;!&ndash;          <button (click)="getVoiture()" style="width: 100%;height: 100%;" nz-button [nzType]="'primary'">Search</button>&ndash;&gt;-->
    <!--&lt;!&ndash;        </div>&ndash;&gt;-->
    <!--      </div>-->

  </form>
</nz-modal>

<p-dialog [style]="{'width':'1300px'}" header="Afficher les détails du voiture" [(visible)]="isVisible2">
  <div class="row">
    <!-- Search form -->
    <div class="col-10">
      <button style="    height: 42px;width: 24%;background: #383c3e;border: 1px #383c3e solid;" nz-button [nzType]="'primary'"> Voitures louées
        par le client
      </button>
    </div>

  </div>
  <br/>
  <div class="container-fluid">

    <div class="row">
      <!-- Search form -->
      <div class="col-10">
        <input [(ngModel)]="search" class="form-control" type="text" placeholder="Search" aria-label="Search">
      </div>
      <div class="col-2">
        <button (click)="searchDataV()" style="width: 100%;height: 100%;" nz-button [nzType]="'primary'">Search</button>
      </div>
    </div>

    <nz-table #basicTable [nzData]="listOfData3">
      <thead>
      <tr>
        <th>ID</th>
        <th>Marque</th>
        <th>Imatriculation</th>
        <th>Prix unitaire TTC</th>
        <th>Nombre de Jours</th>
        <th>Total</th>
        <th>TOTAL ENTRETIEN</th>
        <th>Disponibilité</th>
        <!--    <th>Company Name</th>-->
        <!--    <th>Role</th>-->
        <!--    <th>Creation date</th>-->
        <!--    <th>Active</th>-->
        <!--    <th>Actions</th>-->
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let data of basicTable.data">
        <td>{{ data.id }}</td>
        <td>{{ data.marque }}</td>
        <td>{{ data.matricule }}</td>
        <td>{{ data.prixUnitaireTTC }}</td>
        <td>{{ data.totalJours }}</td>
        <td>{{ data.total }}</td>
        <td>{{ data.totalEntretien }}</td>
        <td>{{ data.dispo }}</td>
      </tr>
      </tbody>
    </nz-table>
  </div>


  <!--    <p-tabPanel class="tab-pane fade" header="Entretien et Réparation">-->
  <!--      <div class="container-fluid">-->
  <!--        <app-entretien-->
  <!--          [entretiens]="entretien"-->
  <!--          [newEntretien]="true">-->
  <!--        </app-entretien>-->
  <!--      </div>-->
  <!--    </p-tabPanel>-->

  <!--    <p-tabPanel class="tab-pane fade" header="Total">-->
  <!--      <div class="container-fluid">-->
  <!--        <div class="row">-->
  <!--          <div class="col-md-6">-->
  <!--            <label> Marque : </label>-->
  <!--          </div>-->
  <!--          <div class="col-md-6">-->
  <!--            &lt;!&ndash;            <input class="inp" type="text" disabled value="{{listOfData4.marque}}">&ndash;&gt;-->
  <!--            &lt;!&ndash;            <input class="inp" type="text" disabled [(ngModel)]="listOfData4.marque">&ndash;&gt;-->
  <!--          </div>-->
  <!--        </div>-->
  <!--        <div class="row">-->
  <!--          <div class="col-md-6">-->
  <!--            <label> Imatriculation : </label>-->
  <!--          </div>-->
  <!--          <div class="col-md-6">-->
  <!--            &lt;!&ndash;            <input class="inp" type="text" disabled value="{{listOfData4.matricule}}">&ndash;&gt;-->
  <!--            &lt;!&ndash;            <input class="inp" type="text" disabled [(ngModel)]="listOfData4.matricule">&ndash;&gt;-->
  <!--          </div>-->
  <!--        </div>-->
  <!--        <div class="row">-->
  <!--          <div class="col-md-6">-->
  <!--            <label> Prix unitaire TTC : </label>-->
  <!--          </div>-->
  <!--          <div class="col-md-6">-->
  <!--            &lt;!&ndash;            <input class="inp" type="text" disabled value="{{listOfData4.prixUnitaireTTC}}">&ndash;&gt;-->
  <!--            &lt;!&ndash;            <input class="inp" type="text" disabled [(ngModel)]="listOfData4.prixUnitaireTTC">&ndash;&gt;-->
  <!--          </div>-->
  <!--        </div>-->
  <!--        <div class="row">-->
  <!--          <div class="col-md-6">-->
  <!--            <label> Total : </label>-->
  <!--          </div>-->
  <!--          <div class="col-md-6">-->
  <!--            &lt;!&ndash;            <input class="inp" type="text" disabled value="{{listOfData4.total}}">&ndash;&gt;-->
  <!--            &lt;!&ndash;            <input class="inp" type="text" disabled [(ngModel)]="listOfData4.total">&ndash;&gt;-->
  <!--          </div>-->
  <!--        </div>-->
  <!--        <div class="row">-->
  <!--          <div class="col-md-6">-->
  <!--            <label> Total ENTRETIEN : </label>-->
  <!--          </div>-->
  <!--          <div class="col-md-6">-->
  <!--            &lt;!&ndash;            <input class="inp" type="text" disabled value="{{listOfData4.totalEntretien}}">&ndash;&gt;-->
  <!--            &lt;!&ndash;            <input class="inp" type="text" disabled [(ngModel)]="listOfData4.totalEntretien">&ndash;&gt;-->
  <!--          </div>-->
  <!--        </div>-->
  <!--      </div>-->

  <!--    </p-tabPanel>-->


</p-dialog>

<!--<nz-modal [(nzVisible)]="showV" nzTitle="{{title}}" disabled="!validateForm.valid" (nzOnCancel)="handleCancel()"-->
<!--          (nzOnOk)="handleOk()">-->

<!--  <div class="container-fluid mb-3">-->
<!--    <form nz-form class="ant-advanced-search-form" [formGroup]="filterForm">-->
<!--      <div class="row">-->
<!--        <div class="col-md-6 col-sm-12 offset-md-2 col-lg-6 offset-lg-2">-->
<!--          <nz-input-group [nzSuffix]="suffixIconSearch">-->
<!--            <input type="text" nz-input placeholder="input search text" (input)="searchData()"-->
<!--                   formControlName="name"/>-->
<!--          </nz-input-group>-->
<!--          <ng-template #suffixIconSearch>-->
<!--            <i nz-icon nzType="search"></i>-->
<!--          </ng-template>-->
<!--        </div>-->
<!--      </div>-->

<!--    </form>-->
<!--  </div>-->

<!--  <nz-table #basicTable [nzData]="listOfData">-->
<!--    <thead>-->
<!--    <tr>-->
<!--      <th>Id</th>-->
<!--      <th>Marque</th>-->
<!--      <th>Matrecule</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody>-->
<!--    <tr *ngFor="let data of basicTable.data">-->
<!--      <td>{{ data.id }}</td>-->
<!--      <td>{{ data.name }}</td>-->
<!--      <td>{{ data.cin }}</td>-->
<!--    </tr>-->
<!--    </tbody>-->
<!--  </nz-table>-->


<!--</nz-modal>-->


